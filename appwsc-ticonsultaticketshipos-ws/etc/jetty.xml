<?xml version="1.0"?>
<!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN" "http://jetty.mortbay.org/configure.dtd">
 
<Configure id="Server" class="org.mortbay.jetty.Server">
 
    <Set name="handler">
      <New id="Handlers" class="org.mortbay.jetty.handler.HandlerCollection">
        <Set name="handlers">
         <Array type="org.mortbay.jetty.Handler">
           <Item>
             <New id="DefaultHandler" class="org.mortbay.jetty.handler.DefaultHandler">
				<Set name="serveIcon">false</Set>
			 </New>
           </Item>
         </Array>
        </Set>
      </New>
    </Set>
    
    <!-- AÃ‘ADIMOS ESTO DEL PREDATALAKE -->
    
    <!-- =========================================================== -->
	<!-- Add a HTTP Connector.                                       -->
	<!-- Configure an o.e.j.server.ServerConnector with a single     -->
	<!-- HttpConnectionFactory instance using the common httpConfig  -->
	<!-- instance defined in jetty.xml                               -->
	<!--                                                             -->
	<!-- Consult the javadoc of o.e.j.server.ServerConnector and     -->
	<!-- o.e.j.server.HttpConnectionFactory for all configuration    -->
	<!-- that may be set here.                                       -->
	<!-- =========================================================== -->
	<Call name="addConnector">
    <Arg>
      <New id="httpConnector" class="org.eclipse.jetty.server.ServerConnector">
        <Arg name="server"><Ref refid="Server" /></Arg>
        <Arg name="acceptors" type="int"><Property name="jetty.http.acceptors" deprecated="http.acceptors" default="-1"/></Arg>
        <Arg name="selectors" type="int"><Property name="jetty.http.selectors" deprecated="http.selectors" default="-1"/></Arg>
        <Arg name="factories">
          <Array type="org.eclipse.jetty.server.ConnectionFactory">
            <Item>
              <New class="org.eclipse.jetty.server.HttpConnectionFactory">
                <Arg name="config"><Ref refid="httpConfig" /></Arg>
              </New>
            </Item>
          </Array>
        </Arg>
        <Set name="host"><Property name="jetty.http.host" deprecated="jetty.host" /></Set>
        <Set name="port"><Property name="jetty.http.port" deprecated="jetty.port" default="8080" /></Set>
        <Set name="idleTimeout"><Property name="jetty.http.idleTimeout" deprecated="http.timeout" default="600000"/></Set>
        <Set name="soLingerTime"><Property name="jetty.http.soLingerTime" deprecated="http.soLingerTime" default="-1"/></Set>
        <Set name="acceptorPriorityDelta"><Property name="jetty.http.acceptorPriorityDelta" deprecated="http.acceptorPriorityDelta" default="0"/></Set>
        <Set name="acceptQueueSize"><Property name="jetty.http.acceptQueueSize" deprecated="http.acceptQueueSize" default="0"/></Set>
      </New>
    </Arg>
  </Call>

<!-- 	<Call name="getConfiguration" class="bitronix.tm.TransactionManagerServices"> -->
<!--       	<Set name="serverId">jetty-btm-node0</Set> -->
<!-- 		<Set name="defaultTransactionTimeout">900</Set> -->
<!-- 		<Set name="logPart1Filename">./target/work/btm1.tlog</Set> -->
<!-- 		<Set name="logPart2Filename">./target/work/btm2.tlog</Set> -->
<!--   </Call> -->

<!--   <Call name="addLifeCycle"> -->
<!--       <Arg> -->
<!--           <New class="bitronix.tm.integration.jetty7.BTMLifeCycle" /> -->
<!--       </Arg> -->
<!--   </Call> -->

<!--   <New class="org.eclipse.jetty.plus.jndi.Transaction" > -->
<!--       <Arg> -->
<!--           <Call name="getTransactionManager" class="bitronix.tm.TransactionManagerServices" /> -->
<!--       </Arg> -->
<!--   </New> -->
</Configure>